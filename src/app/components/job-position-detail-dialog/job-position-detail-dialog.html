<h2 mat-dialog-title>
  {{ isEdit() ? 'Edit job position' : 'Add job position' }}
</h2>

<mat-dialog-content style="padding-top: 8px;">

  <!-- Title -->
  <mat-form-field appearance="outline" class="full-width" style="width: 100%;">
    <mat-label>Job title</mat-label>
    <input
      matInput
      [value]="title()"
      (input)="title.set($any($event.target).value)" />
  </mat-form-field>

  <!-- Description -->
  <mat-form-field appearance="outline" class="full-width" style="width: 100%;">
    <mat-label>Description</mat-label>
    <textarea
      matInput
      rows="3"
      [value]="description()"
      (input)="description.set($any($event.target).value)">
    </textarea>
  </mat-form-field>

  <!-- Skills -->
  <mat-form-field appearance="outline" class="full-width" style="width: 100%;">
    <mat-label>
      Required skills
      <span *ngIf="skillIds().length">
        ({{ skillIds().length }})
      </span>
    </mat-label>

    <mat-select
      multiple
      [value]="skillIds()"
      (selectionChange)="skillIds.set($event.value)">

      <mat-option
        *ngFor="let skill of dataService.skills()"
        [value]="skill.id">
        {{ skill.name }}
      </mat-option>

    </mat-select>
  </mat-form-field>

  <!-- Preview -->
  <div *ngIf="skillIds().length">
    <p><strong>Selected skills</strong></p>
    <mat-chip-set>
      <mat-chip *ngFor="let id of skillIds()">
        {{ getSkillName(id) }}
      </mat-chip>
    </mat-chip-set>
  </div>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>

  <button
    mat-flat-button
    color="primary"
    (click)="save()"
    [disabled]="!title() || !skillIds().length">
    {{ isEdit() ? 'Save changes' : 'Add job' }}
  </button>
</mat-dialog-actions>


