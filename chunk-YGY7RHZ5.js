import{d as J,e as q}from"./chunk-HTPI6HOJ.js";import{a as K,b as Q,c as R}from"./chunk-K5DD3RRZ.js";import{$a as v,Da as _,Dc as L,Eb as I,Ec as A,Fb as w,Fc as U,Gb as P,Mb as F,N as x,Nb as O,Ob as b,Pb as E,Qa as s,Ra as i,S as d,Sa as o,Sb as N,Vc as z,W as f,X as u,Xc as G,Yc as H,Za as k,Zb as V,ab as p,lb as a,nb as M,oa as l,ob as h,pb as S,qb as C,rc as T,tc as W,uc as B,wc as D,xc as j,ya as y}from"./chunk-BRLCDH7P.js";var g=class t{skills=U.skills;getSkills(){return this.skills}static \u0275fac=function(e){return new(e||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})};function Z(t,r){if(t&1&&(i(0,"mat-option",8),a(1),o()),t&2){let e=r.$implicit;s("value",e.id),l(),M(" ",e.name," ")}}function $(t,r){if(t&1&&(i(0,"mat-chip"),a(1),o()),t&2){let e=r.$implicit;l(),M(" ",e.name," ")}}function ee(t,r){if(t&1){let e=k();i(0,"mat-card")(1,"h2"),a(2,"My Profile"),o(),i(3,"mat-form-field",1)(4,"mat-label"),a(5,"Name"),o(),i(6,"input",2),C("ngModelChange",function(n){f(e);let m=p();return S(m.user.name,n)||(m.user.name=n),u(n)}),o()(),i(7,"mat-form-field",1)(8,"mat-label"),a(9,"Select Skills"),o(),i(10,"mat-select",3),C("ngModelChange",function(n){f(e);let m=p();return S(m.user.skillIds,n)||(m.user.skillIds=n),u(n)}),_(11,Z,2,2,"mat-option",4),o()(),i(12,"div",5)(13,"mat-chip-set"),_(14,$,2,1,"mat-chip",6),o()(),i(15,"button",7),v("click",function(){f(e);let n=p();return u(n.save())}),a(16," Save Changes "),o()()}if(t&2){let e=p();l(6),h("ngModel",e.user.name),l(4),h("ngModel",e.user.skillIds),l(),s("ngForOf",e.allSkills),l(3),s("ngForOf",e.selectedSkills())}}var X=class t{auth=d(q);employeeService=d(J);skillService=d(g);user;allSkills=[];ngOnInit(){this.user=structuredClone(this.auth.currentUser()),this.allSkills=this.skillService.getSkills()}selectedSkills(){return this.user?.skillIds?this.allSkills.filter(r=>this.user.skillIds.includes(r.id)):[]}save(){this.employeeService.updateEmployee(this.user),localStorage.setItem("demo_user",JSON.stringify(this.user)),this.auth.currentUser.set(this.user),alert("Profile updated successfully!")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-profile"]],decls:1,vars:1,consts:[[4,"ngIf"],["appearance","outline",1,"full-width"],["matInput","",3,"ngModelChange","ngModel"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"chip-container"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(e,c){e&1&&_(0,ee,17,4,"mat-card",0),e&2&&s("ngIf",c.user)},dependencies:[P,I,w,E,F,O,b,V,N,H,W,T,G,z,B,A,L,R,K,Q,j,D],styles:["mat-card[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;padding:24px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.chip-container[_ngcontent-%COMP%]{margin-bottom:20px}"]})};export{X as ProfileComponent};
